# zencart

## [Download](https://www.zen-cart.com/downloads.php?do=file&id=2094)

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
    <TabItem value="Requisitos" label="Requisitos" default>
        Para executar a integração com a PayPay:

        - O comerciante deve estar registado na plataforma PayPay;
        - Deve instalar o ZenCart no seu computador, em (https://www.zencart.com/downloads.php) e efetuar o download da versão 1.5.5;
        - Após a instalação concluída e a loja configurada, aceda à área de administração e faça o seu login.
    </TabItem>
    <TabItem value="Passos de Configuração" label="Passos de Configuração">
        Copie os ficheiros fornecidos pela PayPay para a sua pasta de instalação ZenCart

        <div class="theme-admonition theme-admonition-info admonition_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module alert alert--info">
            <div class="admonitionHeading_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><span class="admonitionIcon_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div>
            <div class="admonitionContent_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module">
                <p>Caso existam outros módulos de pagamento instalados, deverá se certificar que não existe nenhum ficheiro sobreposto ao existente.</p>
            </div>
        </div>

        ![configuracao1](../../../_media/zencart-1.png)

        No ambiente de administração/backoffice da sua loja de e-commerce, aceda ao menu ‘Módulos’.

        ![configuracao2](../../../_media/zencart-2.png)

        Nesta área deverá ser possível visualizar os dois módulos de pagamentos da plataforma PayPay, (Multibanco/Cartão de Crédito/Débito)

        ![configuracao3](../../../_media/zencart-3.png)

        Instale os módulos pretendidos. Se optar por instalar um módulo, apenas será disponibilizado aos seus clientes, o módulo que instalou. Preencha os campos com os dados fornecidos pelo seu gestor de conta da PayPay, e no final, selecione a opção ‘update’.

        ![configuracao4](../../../_media/zencart-4.png)

        <div class="theme-admonition theme-admonition-info admonition_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module alert alert--info">
            <div class="admonitionHeading_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><span class="admonitionIcon_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div>
            <div class="admonitionContent_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module">
                <p>Poderá utilizar o ambiente de teste para testar a integração antes de iniciar em ambiente de produção.</p>
            </div>
        </div>

        Após este passo deverá ser possível visualizar os tipos de pagamento definidos.

        ![configuracao5](../../../_media/zencart-5.png)

        <div class="theme-admonition theme-admonition-info admonition_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module alert alert--info">
            <div class="admonitionHeading_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><span class="admonitionIcon_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div>
            <div class="admonitionContent_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module">
                <p>A sua loja agora está apta para gerar e fornecer os dados de pagamento aos seus clientes, em tempo real, de acordo com o método de pagamento escolhido (por Multibanco ou Cartão de Crédito/Débito).<br/>
                Caso surja alguma dúvida, não hesite em nos contactar. Estamos disponíveis para ajudar na configuração.</p>
            </div>
        </div>
    </TabItem>
    <TabItem value="Realizar o pagamento da compra" label="Realizar o pagamento da compra">
        Para efetuar a compra de um produto/serviço, o cliente deverá efetuar o seu login na loja ZenCart.

        ![realizar compra1](../../../_media/zencart-6.png)

        Adicionar artigos ao seu carrinho.

        ![realizar compra2](../../../_media/zencart-7.png)

        Para confirmar a compra, deverá clicar em ‘Checkout’.

        ![realizar compra3](../../../_media/zencart-8.png)

        Introduzir os detalhes de entrega.

        ![realizar compra4](../../../_media/zencart-9.png)

        Selecionar o método de pagamento PayPay, (‘Cartão de Crédito/Débito’ ou ‘Multibanco’).

        ![realizar compra5](../../../_media/zencart-10.png)

        Ao selecionar a opção ‘Multibanco’, é apresentado o resumo da compra. Para confirmar o pedido, deverá clicar em ‘Confirm Order’.

        ![realizar compra6](../../../_media/zencart-11.png)

        Após este passo é gerada a referência para pagamento.

        ![realizar compra7](../../../_media/zencart-12.png)

        Após realizar o pagamento da encomenda, é apresentada a mensagem de sucesso, e o estado da encomenda é devidamente atualizado.

        ![realizar compra8](../../../_media/zencart-13.png)

        Caso o cliente tenha selecionada a opção de pagamento por ‘Cartão de Crédito/Débito’, deverá clicar no link e será automaticamente redirecionado para a área de pagamentos.

        ![realizar compra8](../../../_media/zencart-14.png)

        Deverá inserir os dados do seu cartão de crédito.

        ![realizar compra9](../../../_media/zencart-15.png)

        E se estiverem corretos, a sua compra é validada.

        ![realizar compra10](../../../_media/zencart-16.png)

        Ao aceder à loja ZenCart poderá confirmar que o estado da sua encomenda foi alterado.

        ![realizar compra10](../../../_media/zencart-17.png)
    </TabItem>
    <TabItem value="Atualizar os pagamentos manualmente" label="Atualizar os pagamentos manualmente">
        Todos os pagamentos são processados automaticamente. No entanto, caso verifique alguma situação em que o pagamento foi efetuado, mas não foi atualizado na loja ZenCart, o administrador poderá atualizar manualmente todos os pagamentos pendentes. Para tal, deverá aceder ao separador ‘Módulos’ > ‘Pagamentos’ e clicar na opção ‘Edit’ > ‘Update’.

        ![atualizar pagamento manualmente](../../../_media/zencart-18.png)

        <h2>Aspetos a ter em conta nesta integração:</h2>

        - Pode apresentar os dados de pagamento (referência ou link para pagamento) em qualquer área (fatura, resumo da compra, etc.) basta que insira o código

        ```php
        <?php
            echo paypay::getPaymentLayout(!empty($zv_orders_id) ? $zv_orders_id : $_GET['order_id']);
        ?>
        ```

        no ficheiro correspondente à zona que deseja apresentar a informação (este procedimento requer conhecimento básico de PHP e HTML). Caso o ID da encomenda não seja apresentado em nenhuma das variáveis indicadas, deverá verificar qual a variável que deve ser utilizada.

        - Para a desinstalação do plugin, deverá executar o ficheiro ‘uninstall.sql’ (disponibilizado em conjunto com os ficheiros do plugin) e desinstalar o plugin na área de administração.

        <div class="theme-admonition theme-admonition-info admonition_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module alert alert--warning">
            <div class="admonitionHeading_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><span class="admonitionIcon_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div>
            <div class="admonitionContent_node_modules-@docusaurus-theme-classic-lib-theme-Admonition-Layout-styles-module">
                <p>Se executar o ficheiro ‘uninstall.sql’, todos os dados relativos aos pagamentos efetuados a partir do plugin Paypay, serão eliminados permanentemente.</p>
            </div>
        </div>
    </TabItem>
</Tabs>
